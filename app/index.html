<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Get prepared for life with Kinetic Flow, mindfulness and performance.">
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,400italic,700,900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--build:css css/main.min.css -->
    <link rel="stylesheet" href="./css/main.css">
    <!--endbuild -->

    <title>Kinetic Flow</title>
  </head>

  <body>

    <!-- Initial state: nobody logged in -->
    <div class="user-logged-out">

      <div class="log-in-wrapper">
        <h1>Kinetic Flow</h1>
        <div class="log-in-box">
          <form id="logInForm">
            <div class="input-group">
              <label for="logInEmail">Email</label>
              <input type="email" id="logInEmail" />
            </div>
            <div class="input-group">
              <label for="logInPassword">Password</label>
              <input type="password" id="logInPassword" />
            </div>
            <div class="block-alert" id="logInAlert">
              <span class="alert-message"></span>
            </div>
            <button class="btn" id="logInButton">Log In</button>
            <p><a href="#" id="forgotPasswordLink">Reset Your Password</a></p>
          </form>
          <form id="forgotPasswordForm">
            <div class="input-group">
              <label for="forgotPasswordEmail">Email</label>
              <input type="email" id="forgotPasswordEmail" />
            </div>
            <div class="block-alert" id="forgotPasswordAlert">
              <span class="alert-message"></span>
            </div>
            <button class="btn" id="forgotPasswordButton">Reset Password</button>
            <p><a href="#" id="forgotBack">Back</a></p>
          </form>
        </div>
        <p><em>Don't have an account? <br /><a href="mailto:hello@kineticflow.com.au" target="_blank">Request one!</a></em></p>
      </div>

    </div>

    <!-- Logged in state -->
    <div class="user-logged-in">

      <header>

        <div class="header-content">
          <a href="./"><img src="./images/logo.png" title="Kinetic Flow" alt="Kinetic Flow Logo" /></a>
          <div class="user-info">
            <span>Logged in as <span class="user-email"></span></span>
            <button class="btn menu-btn">Menu <i class="fa fa-chevron-down icon-right-close menu-icon"></i></button>
          </div>
          <button class="btn btn-outline mobile-menu-btn">Menu <i class="fa fa-bars icon-right"></i></button>
        </div>

        <ul class="list-unstyled menu">
          <li><button class="reset-password-button">Reset Password</button></li>
          <li><button class="log-out-button">Log Out <i class="fa fa-sign-out icon-right"></i></button></li>
        </ul>

        <div class="mobile-menu">
          <ul class="list-unstyled">
            <li><button class="close-mobile-menu-btn">Close <i class="fa fa-times icon-right"></i></button></li>
            <li class="menu-text"><span class="user-email"></span></li>
            <li><button class="reset-password-button">Reset Password</button></li>
            <li><button class="log-out-button">Log Out <i class="fa fa-sign-out icon-right"></i></button></li>
          </ul>
        </div>

      </header>

      <div class="wrapper">

        <div id="alertBox">
          <!-- Alerts go here -->
        </div>

        <ul class="tabs">
          <li class="active"><button id="mindfulnessTab"><i class="fa fa-sun-o icon-left-close"></i>Mindfulness</button></li>
          <li><button id="analyticsTab"><i class="fa fa-braille icon-left-close"></i>Analytics</button></li>
          <li><button id="infoTab"><i class="fa fa-info icon-left-close"></i>Info</button></li>
        </ul>
        <ul class="tabs admin-tabs">
          <li><button id="adminTab"><i class="fa fa-terminal icon-left-close"></i>Admin</button></li>
        </ul>
        <div class="inner">

          <section id="mindfulness">
            <h2>Kinetic Flow Mindfulness</h2>
            <p>What would you like to achieve today?</p>
            <div class="text-left">
              <p class="list-header">Work <i class="fa fa-briefcase icon-right"></i></p>
              <ul class="list-unstyled list-inline activity-list" id="workActivities">
                <!-- app.js puts activitys here -->
                <li><i class="fa fa-sun-o fa-spin fa-2x"></i></li>
              </ul>
              <p class="list-header" id="groupActivitiesHeader">Group (For the whole team to listen together)  <i class="fa fa-users icon-right"></i></p>
              <ul class="list-unstyled list-inline activity-list" id="groupActivities">
                <!-- app.js puts activitys here -->
              </ul>
              <p class="list-header">Lifestyle  <i class="fa fa-user icon-right"></i></p>
              <ul class="list-unstyled list-inline activity-list" id="personalActivities">
                <!-- app.js puts activitys here -->
                <li><i class="fa fa-sun-o fa-spin fa-2x"></i></li>
              </ul>
            </div>
          </section>

          <section id="analytics">
            <h2>Analytics</h2>
            <p>Your Kinetic Flow mindfulness in numbers!</p>
            <div class="card-holder">
              <div class="card">
                <h2 class="stat" id="totalSessions"></h2>
                <p class="stat-title">Total Kinetic Flow Sessions</p>
              </div>
              <div class="card">
                <h2 class="stat" id="totalAudioTime"></h2>
                <p class="stat-title">Total Time Meditating</p>
              </div>
              <div class="card">
                <h2 class="stat" id="streak"></h2>
                <p class="stat-title">Consecutive Days</p>
              </div>
              <div class="card">
                <h3 class="stat" id="frequentActivity"></h2>
                <p class="stat-title">Favourite Activity</p>
              </div>
              <div class="card">
                <h3 class="stat" id="startingMood"></h2>
                <p class="stat-title">Usual Starting Mood</p>
              </div>
              <div class="card">
                <h3 class="stat" id="endingMood"></h2>
                <p class="stat-title">Usual Finishing Mood</p>
              </div>
            </div>
            <hr />
            <div class="history">
              <h3>Your Kinetic Flow History:</h3>
              <table>
                <tbody id="historyList">
                  <!-- App.js puts history here -->
                </tbody>
              </table>
            </div>
          </section>

          <section id="info">
            <h2>About Kinetic Flow Mindfulness</h2>
            <p>A guide to each activity</p>
            <div class="info-wrapper text-left">
              <dl id="infoDescriptions">
                <!-- App.js puts info here -->
              </dl>
            </div>
          </section>

          <section id="moods">
            <h3>You're about to: <span class="upcoming-activity highlight-span"></span></h3>
            <p>What mood are you in right now?</p>
            <div class="mood-list" id="preMoodList">
              <!-- App.js puts moods here -->
            </div>
            <hr />
            <div class="text-left">
              <button class="btn btn-sm back-btn"><i class="fa fa-arrow-left icon-left-close"></i> Back</button>
            </div>
          </section>

          <section id="audio">
            <h3>Guided Mindfulness Session</h3>
            <audio id="kfAudio"></audio>
            <div class="audio-player">
              <div class="play-pause">
                <i class="fa fa-sun-o fa-spin fa-2x"></i>
              </div>
              <div class="audio-meta">
                <div class="audio-title">
                  <p class="audio-name"></p>
                </div>
                <div class="seekbar">
                  <div class="audio-progress"></div>
                </div>
                <div class="audio-timings">
                  <span class="audio-played-time">00:00</span>
                  <span class="audio-total-time">00:00</span>
                </div>
              </div>
            </div>
            <div class="text-right finish-audio">
              <button class="btn btn-sm cancel-audio"><i class="fa fa-check icon-left-close"></i> Finish Audio</button>
            </div>
            <hr />
            <div class="text-left">
              <button class="btn btn-sm btn-error-outline cancel-audio"><i class="fa fa-times icon-left-close"></i> Cancel Audio</button>
            </div>
          </section>

          <section id="postAudioMood">
            <h2>Mindfulness Session Complete</h2>
            <p>How are you feeling now?</p>
            <div class="mood-list" id="postAudioMoodList">
              <!-- app.js puts moods here -->
            </div>
          </section>

          <!-- =================================================================
          **********************************************************************
                          A D M I N J A Z Z
          **********************************************************************
          ================================================================== -->

          <section class="text-left" id="admin">
            <div class="admin-nav">
              <button class="btn active" id="adminAnalyticsBtn">Analytics</button>
              <button class="btn" id="adminActivitiesBtn">Activities</button>
              <button class="btn" id="adminAudiosBtn">Audios</button>
              <button class="btn" id="adminGroupsBtn">Groups</button>
              <button class="btn" id="adminUsersBtn">Users</button>
            </div>

            <div class="admin-view" id="adminAnalyticsView">
              <h2>Analytics</h2>
              <div id="adminAnalyticsLists">

              </div>
            </div>

            <div class="admin-view" id="adminActivitiesView">
              <h2>Activities</h2>
              <form class="admin-form" id="addNewActivityForm">
                <h3>Add a New Activity</h3>
                <div class="input-group">
                  <label for="newActivityID">Activity ID</label>
                  <input type="text" id="newActivityID" />
                </div>
                <div class="input-group">
                  <label for="newActivityTitle">Activity Title</label>
                  <input type="text" id="newActivityTitle" />
                </div>
                <div class="input-group">
                  <label for="newActivityTags">Activity Tags</label>
                  <input type="text" id="newActivityTags" />
                  <p class="help-text-black">An activity should be tagged with at least one organisation and one of these: [work, personal, groupWork].</p>
                </div>
                <div class="input-group">
                  <label for="newActivityDescription">Activity Description</label>
                  <input type="text" id="newActivityDescription" />
                </div>
                <button type="submit" class="btn btn-success"><i class="fa fa-plus icon-left-close"></i> Add New Activity</button>
              </form>
              <div class="activities-wrapper">
                <!-- Admin.js puts things here -->
              </div>
              <form id="editActivityForm">
                <input type="hidden" id="activityKey" />
                <div class="input-group">
                  <label for="editActivityTitle">Activity Title: </label>
                  <input type="text" id="editActivityTitle" />
                </div>
                <div class="input-group">
                  <label for="editActivityID">Activity ID: </label>
                  <input type="text" id="editActivityID" />
                </div>
                <div class="input-group">
                  <label for="editActivityTags">Activity Tags: </label>
                  <input type="text" id="editActivityTags" />
                </div>
                <div class="input-group">
                  <label for="editActivityDescription">Activity Description: </label>
                  <input type="text" id="editActivityDescription" />
                </div>
                <button type="submit" class="btn btn-success btn-sm">Save Edits</button>
              </form>
            </div>

            <div class="admin-view" id="adminAudiosView">
              <h2>Audios</h2>
              <form class="admin-form" id="newAudioForm">
                <div class="input-group">
                  <label for="newAudioID">Audio ID</label>
                  <input type="text" id="newAudioID" />
                </div>
                <div class="input-group">
                  <label for="newAudioTitle">Audio Title</label>
                  <input type="text" id="newAudioTitle" />
                </div>
                <div class="input-group">
                  <label for="newAudioTags">Audio Tags</label>
                  <input type="text" id="newAudioTags" />
                  <p class="help-text-black">An audio should be tagged with at least one mood id and at least one activity id.</p>
                </div>
                <div class="input-group">
                  <input type="file" id="newFile" />
                </div>
                <button type="submit" class="btn btn-success"><i class="fa fa-plus icon-left-close"></i> Upload Audio</button>
                <div id="uploadProgressBar">
                  <div id="progressBarInner">

                  </div>
                </div>
                <p id="progressText"></p>
              </form>
              <div id="audiosWrapper">
                <table>
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Title</th>
                      <th>Tags</th>
                      <th>Link</th>
                    </tr>
                  </thead>
                  <tbody>

                  </tbody>
                </table>
              </div>
            </div>

            <div class="admin-view" id="adminGroupsView">
              <h2>Groups</h2>
              <form class="admin-form" id="addNewGroupForm">
                <div class="input-group">
                  <label for="newGroupId">New Organisation / Group Name:</label>
                  <input type="text" id="newGroupId" />
                </div>
                <button type="submit" class="btn btn-success"><i class="fa fa-plus icon-left-close"></i> Add Group</button>
              </form>
              <ul class="list-unstyled" id="groupsList"></ul>
            </div>

            <div class="admin-view" id="adminUsersView">
              <h2>Users</h2>
              <form class="admin-form" id="addNewUserForm">
                <div class="input-group">
                  <label for="newUserUID">UID:</label>
                  <input type="text" id="newUserUID" />
                </div>
                <div class="input-group">
                  <label for="newUserEmail">Email:</label>
                  <input type="email" id="newUserEmail" />
                </div>
                <div class="input-group">
                  <label for="newUserName">Name:</label>
                  <input type="text" id="newUserName" />
                </div>
                <div class="input-group">
                  <label for="newUserOrg">Organisation:</label>
                  <input type="text" id="newUserOrg" />
                </div>
                <div class="input-group">
                  <label for="newUserSuperDuper">Super Duper:</label>
                  <select id="newUserSuperDuper">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                  </select>
                </div>
                <button type="submit" class="btn btn-success"><i class="fa fa-plus icon-left-close"></i> Add User</button>
              </form>
              <div id="usersWrapper">
                <table>
                  <thead>
                    <tr>
                      <th>UID</th>
                      <th>Name</th>
                      <th>Organisation</th>
                      <th>Total Sessions</th>
                      <th>Total Time</th>
                    </tr>
                  </thead>
                  <tbody>

                  </tbody>
                </table>
              </div>
            </div>
          </section>

          <section id="resetPassword">
            <h2>Reset Your Password</h2>
            <form id="passwordResetForm">
              <div class="input-group">
                <label for="oldPassword">Enter your old password:</label>
                <input type="password" id="oldPassword" />
              </div>
              <div class="input-group">
                <label for="newPassword">Enter your new password:</label>
                <input type="password" id="newPassword" />
              </div>
              <button type="submit" class="btn btn-success btn-sm">Reset Password</button>
            </form>
            <hr />
            <div class="text-left">
              <button class="btn btn-error-outline btn-sm back-btn"><i class="fa fa-times icon-left-close"></i> Cancel Password Reset</button>
            </div>
          </section>

        </div>
      </div><!-- /.wrapper -->

      <p class="quote-banner"><em>You will never have this day again. Embrace it.</em></p>

    </div>

    <footer>
      <div>
        <ul>
          <li><h3>Kinetic Flow</h3></li>
          <li><a href="http://kineticflow.com.au" target="_blank">Home</a></li>
          <li><a href="http://www.kineticflow.com.au/s/Kinetic-Flow-Privacy-Policy-v10.pdf" target="_blank">Privacy Policy</a></li>
          <li><a href="http://www.kineticflow.com.au/s/Kinetic-Flow-TCs.pdf" target="_blank">Terms of Service</a></li>
          <li><a href="http://www.kineticflow.com.au/contactus/" target="_blank">Contact</a></li>
        </ul>
      </div>
      <div>
        <p>&copy; Kinetic Flow 2017</p>
      </div>
    </footer>

  </body>

  <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>

  <script src="https://www.gstatic.com/firebasejs/3.6.7/firebase.js"></script>
  <script>
    // Hook up to Firebase
    var config = {
      apiKey: "AIzaSyAmiL4b_V8gsqLvXdBOA4n7XlaTZDwv82Q",
      authDomain: "kinetic-flow.firebaseapp.com",
      databaseURL: "https://kinetic-flow.firebaseio.com",
      storageBucket: "kinetic-flow.appspot.com",
      messagingSenderId: "1049702057178"
    };
    firebase.initializeApp(config);
  </script>

  <!--build:js js/main.min.js -->
  <script src="./js/scripts.js" type="text/javascript"></script>
  <script src="./js/config.js" type="text/javascript"></script>
  <script src="./js/auth.js" type="text/javascript"></script>
  <script src="./js/views.js" type="text/javascript"></script>
  <script src="./js/app.js" type="text/javascript"></script>
  <script src="./js/admin.js" type="text/javascript"></script>
  <!-- endbuild -->

</html>
